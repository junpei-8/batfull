<script lang="ts">
  import { userCoreQuery, loginUser } from '@/stores/user';

  $: userCore = $userCoreQuery.data;

  function login() {
    return loginUser();
  }
</script>

<button class="avatar" on:click={login}>
  {#if userCore?.picture}
    <img
      src={userCore?.picture ||
        'https://avatars.githubusercontent.com/u/47259774?v=4'}
      alt="avatar"
    />
  {:else}
    <svg
      xmlns="http://www.w3.org/2000/svg"
      enable-background="new 0 0 24 24"
      viewBox="0 0 24 24"
    >
      <path
        d="M7.3408,20.9502C7.4409,20.9834,7.5464,21,7.6519,21h8.6963c0.1055,0,0.2109-0.0166,0.311-0.0498
		c1.3604-0.4453,2.3804-1.5835,2.6621-2.9702c0.4761-2.3394-0.0854-4.7749-1.541-6.6826l-0.3462-0.4541
		c-0.5503-0.7202-1.3413-1.2373-2.2285-1.4556c-0.0045-0.0011-0.0092-0.0014-0.0137-0.0025C15.6924,8.7172,16,7.8971,16,7
		c0-2.2056-1.7944-4-4-4S8,4.7944,8,7c0,0.897,0.3075,1.7172,0.8081,2.3851C8.8035,9.3863,8.7986,9.3865,8.7939,9.3877
		c-0.8867,0.2183-1.6777,0.7354-2.228,1.4561l-0.3462,0.4536c-1.4556,1.9077-2.0171,4.3433-1.541,6.6826
		C4.9604,19.3667,5.9805,20.5049,7.3408,20.9502z M12,5c1.103,0,2,0.897,2,2s-0.897,2-2,2s-2-0.897-2-2S10.897,5,12,5z
		 M7.8096,12.5107l0.3462-0.4536c0.2744-0.3594,0.6709-0.6177,1.1162-0.7271c1.7842-0.4385,3.6724-0.4385,5.4556,0
		c0.4458,0.1094,0.8423,0.3677,1.1167,0.7266l0.3462,0.4536c1.105,1.4487,1.5317,3.2974,1.1709,5.0713
		c-0.1294,0.6372-0.5796,1.1694-1.189,1.4185H7.8276c-0.6094-0.249-1.0596-0.7813-1.189-1.4185
		C6.2778,15.8076,6.7046,13.959,7.8096,12.5107z"
      ></path>
    </svg>
  {/if}
</button>

<style scoped lang="scss">
  .avatar {
    box-sizing: border-box;
    width: 40px;
    height: 40px;
    overflow: hidden;
    border-radius: 50%;
  }
</style>
